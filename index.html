<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <link rel="stylesheet" href="css/globals.css" />
    <link rel="stylesheet" href="css/styleguide.css" />
    <link rel="stylesheet" href="css/style.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  </head>
  <body>
    <!-- 로그인 버튼 -->
    <div class="login-btn-container">
      <button id="show-login-btn" class="login-btn">로그인</button>
    </div>

    <!-- 메인 화면 -->
    <div class="frame">
      <div class="div">
        <div class="div-4">
          <div class="div-5">
            <div class="record-card">
              <div class="record-header">
                <h2>오늘의 기록</h2>
              </div>

              <div class="record-summary">
                <div class="steps">
                  <span class="number">8,000</span> 걸음
                </div>
                <div class="progress-bar">
                  <div class="progress" style="width: 50%;"></div>
                </div>
                <div class="summary-stats">
                  <span>거리 <strong>7km</strong></span>
                  <span>칼로리 <strong>320kcal</strong></span>
                </div>
              </div>

              <hr class="divider" />

              <div class="daily-header">
                <h3>일일 미션</h3>
                <button class="toggle-btn">

                  <img src="img/chevron-down.svg" alt="펼치기" />
                </button>
              </div>

              <div class="daily-missions">
                <ul>
                  <li><span>1,000 걸음 걷기</span> <button class="done">완료</button></li>
                  <li><span>10,000 걸음 걷기</span> <button class="done">완료</button></li>
                  <li><span>스탬프 루트 만들기</span> <button class="done">완료</button></li>
                  <li><span>카드 만들기</span> <button class="done">완료</button></li>
                  <li><span>새로운 장소 방문하기</span> <button class="done">완료</button></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="div-5">
            <div class="div-6">
              <p class="p">내 취향에 맞는 추천 여행지</p>
              <div class="div-wrapper"><div class="text-wrapper-3">AI추천</div></div>
            </div>
            <div class="overlap-group-wrapper">
              <div class="overlap-group">
                <div class="div-7">
                  <div class="div-8">
                    <div class="text-wrapper-4">부산</div>
                    <div class="text-wrapper-5">해운대 해수욕장</div>
                  </div>
                  <div class="div-9">
                    <div class="rectangle"></div>
                    <div class="ellipse"></div>
                    <div class="ellipse"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="div-10">
            <div class="frame-wrapper">
              <div class="div-11">
                <div class="text-wrapper-6">추천 여행지 인기 포토</div>
                <div class="div-12">
                  <div class="text-wrapper-7">더보기</div>
                  <img class="img-2" src="img/frame-6.svg" />
                </div>
              </div>
            </div>
            <div class="div-13">
              <div class="div-14">
                <div class="solar-heart-outline-wrapper">
                  <img class="solar-heart-outline" src="img/solar-heart-outline.svg" />
                </div>
                <div class="div-15">
                  <p class="text-wrapper-8">제목은 한줄 최대 글자 이후 ...</p>
                  <p class="text-wrapper-9">설명 한줄 최대 글자 이후...</p>
                </div>
              </div>
              <div class="div-14">
                <div class="solar-heart-outline-wrapper"><img class="solar-heart-outline" src="img/image.svg" /></div>
                <div class="div-15">
                  <p class="text-wrapper-8">제목은 한줄 최대 글자 이후 ...</p>
                  <p class="text-wrapper-9">설명 한줄 최대 글자 이후...</p>
                </div>
              </div>
            </div>
          </div>
          <div class="group-3">
            <div class="group-4">
              <div class="div-11">
                <div class="text-wrapper-6">이번 주 인기 루트</div>
                <div class="div-12">
                  <div class="text-wrapper-7">더보기</div>
                  <img class="img-2" src="img/frame-6.svg" />
                </div>
              </div>
            </div>
            <div class="div-16">
              <div class="group-5">
                <div class="group-wrapper">
                  <div class="group-6">
                    <div class="text-wrapper-10">해운대에서 동백섬...</div>
                    <div class="text-wrapper-11">긴 모래사장이 예쁜 코스</div>
                  </div>
                </div>
                <img class="image" src="img/image-4.png" />
              </div>
              <div class="group-5">
                <div class="group-wrapper">
                  <div class="group-6">
                    <div class="text-wrapper-10">인천의 쩝쩝박사</div>
                    <div class="text-wrapper-11">재래시장 먹거리 구경</div>
                  </div>
                </div>
                <img class="image" src="img/image-2.png" />
              </div>
              <div class="group-5">
                <div class="group-wrapper">
                  <div class="group-6">
                    <div class="text-wrapper-10">제주도 올레길</div>
                    <div class="text-wrapper-11">제주를 하나로 잇는 길</div>
                  </div>
                </div>
                <img class="image-2" src="img/image.png" />
              </div>
            </div>
          </div>
        </div>
        <div class="frame-wrapper-2">
          <div class="div-17">
            <div class="group-wrapper-2">
              <div class="group-7"><div class="text-wrapper-12">길다마</div></div>
            </div>
            <div class="div-18">
              <img class="div-wrapper-2" src="img/mynaui-search-solid.svg" />
              <div class="div-wrapper-2">
                <div class="overlap-group-2">
                  <img class="group-8" src="img/group-23942.png" />
                  <div class="ellipse-2"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="group-9">
          <div class="div-19">
            <div class="group-10">
              <div class="div-20">
                <img class="div-wrapper-2" src="img/material-symbols-home-rounded.svg" />
                <div class="text-wrapper-13">홈</div>
              </div>
            </div>
            <div class="group-10">
              <div class="div-20">
                <div class="div-wrapper-2">
                  <div class="img-wrapper"><img class="group-11" src="img/group-23955.png" /></div>
                </div>
                <div class="text-wrapper-14">루트</div>
              </div>
            </div>
            <div class="group-10">
              <div class="div-20">
                <div class="div-wrapper-2">
                  <div class="group-12">
                    <div class="overlap-group-3">
                      <div class="rectangle-2"></div>
                      <img class="vector" src="img/vector-64.svg" />
                      <img class="vector-2" src="img/vector-65.svg" />
                      <div class="rectangle-3"></div>
                    </div>
                  </div>
                </div>
                <div class="text-wrapper-14">소셜</div>
              </div>
            </div>
            <div class="group-10">
              <div class="div-20">
                <div class="icon-park-solid"><img class="group-13" src="img/icon-park-solid_people-top.png" /></div>
                <div class="text-wrapper-13">마이</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // 로컬 스토리지에서 사용자 정보 확인
      window.onload = function() {
        const userData = localStorage.getItem('googleUserData');
        if (userData) {
          const user = JSON.parse(userData);
          document.getElementById('show-login-btn').textContent = user.name;
        }
      };

      // 로그인 버튼 클릭 시 로그인 페이지로 이동
      document.getElementById('show-login-btn').addEventListener('click', function() {
        // 로그인 페이지를 팝업창으로 열기
        const width = 500;
        const height = 600;
        const left = (window.innerWidth - width) / 2;
        const top = (window.innerHeight - height) / 2;

        window.open('login.html', '구글 로그인',
          `width=${width},height=${height},top=${top},left=${left},resizable=yes,scrollbars=yes,status=yes`);
      });

      // 로그인 페이지에서 메시지 수신
      window.addEventListener('message', function(event) {
        // 보안을 위해 출처 확인 (실제 서비스에서는 도메인 확인이 필요)

        // 로그인 성공 메시지인 경우
        if (event.data.type === 'login-success') {
          const user = event.data.user;
          document.getElementById('show-login-btn').textContent = user.name;
        }

        // 로그아웃 메시지인 경우
        if (event.data.type === 'logout') {
          document.getElementById('show-login-btn').textContent = '로그인';
        }
      });


      // 토글 버튼 클릭 시 일일 미션 보이기/숨기기
      document.querySelector('.toggle-btn').addEventListener('click', function() {
        const missions = document.querySelector('.daily-missions');
        missions.classList.toggle('open');

        // 화살표 아이콘 회전
        this.querySelector('img').classList.toggle('rotated');
      });
    </script>
  </body>
</html>